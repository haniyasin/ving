# Composables

### useDateTime()
Date formatting tools based upon [date-fns](https://date-fns.org/).
```ts
const dt = useDateTime()
```

#### determineDate()

```ts
const date = dt.determineDate(param)
```
The parameter is usually Javascript Date object, or a JSON Date string. But it can also be an array containing a date string of any type along with a [parse pattern](https://date-fns.org/v2.30.0/docs/parse) as the second element of the array. Or even an ISO date string (MySQL date). 

#### formatDate()
Formats a date to a human readable string. 

```ts
const formatted = dt.formatDate("2012-04-23T18:25:43.511Z") // April 23, 2012
```

The first parameter can be anything that `determineDate()` understands. 

It can take an optional second parameter which allows you to pass in a [format pattern](https://date-fns.org/v2.30.0/docs/format). 

#### formatDateTime()
Formats a date to a human readable string with an American time format. 

```ts
const formatted = dt.formatDate("2012-04-23T18:25:43.511Z") // April 23, 2012 6:25pm
```

The first parameter can be anything that `determineDate()` understands. 

It can take an optional second parameter which allows you to pass in a [format pattern](https://date-fns.org/v2.30.0/docs/format). 

#### formatTimeAgo()
Turns a date into a duration in the past or the future.

```ts
const formatted = dt.formatTimeAgo("2012-04-23T18:25:43.511Z") // 13 years ago
```
The parameter can be anything that `determineDate()` understands. 

### useRest()
A wrapper around the Nuxt composable `$fetch()` that allows for streamlined fetches, but integrate's with ving's subsystems.

```ts
const response = useFetch(url, behavior);
```
The first parameter is just an endpoint that you wish to interact with like `/api/user`.

The second parameter is an object with many options

- **method** - Defaults to `get`, but can also be `put`, `delete`, or `post`.
- **query** - An object containing query paramters.
- **body** - An object containing body parameters.
- **headers** - An object containing HTTP headers.
- **suppressErrorNotifications** - A boolean that defaults to `false`, but if true will hide ving error notifications in the UI.

It ultimately returns an object that looks like:

```json
{
    "data" : {},
    "error" : null,
}
```
The `error` is `null` unless there is an error, and the `data` contains an object response from the endpoint.

### useVingKind()
A client for interacting with [server-side ving kinds](/ving/server/ving-record#kind-api) through the [Rest API](/ving/rest).

```ts
const users = useVingKind({
    listApi : '/api/user',
    createApi : '/api/user',
    query: { includeMeta: true, sortBy: 'username', sortOrder: 'asc' },
    newDefaults: { username: '', realName: '', email: '' },
});
await users.search();
```


### useVingRecord()
A client for interacting with [server-side ving records](/ving/server/ving-record#record-api) through the [Rest API](/ving/rest).

```ts
const user = useVingRecord({
    
});
```