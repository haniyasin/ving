<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>cache.md</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/primeflex@latest/primeflex.css">
    <link rel="stylesheet" href="https://unpkg.com/primeflex@latest/themes/primeone-light.css">
        <style type="text/css">
        html {
            font-size: 1rem;
            height: 100%;
        }
        
        body {
            font-family: var(--font-family);
            background-color: var(--bg-white);
            color: var(--text-color);
            padding: 0;
            margin: 0;
            min-height: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        li a {
            text-decoration: none;
        }
       ol,ul {
            list-style: none;
            margin-left: 0;
            padding-left: 10px;
        }
    </style>
</head>

<body>
    <div class="grid">
        <div class="col-3 lg:col-2 p-3 surface-300">
            <div class="sticky top-0 left-0">
                <div class="text-4xl">Ving Docs</div>
                <p>Basics</p>
<ul>
<li><a href="about.html">About</a></li>
<li><a href="installation.html">Installation</a></li>
<li><a href="error-codes.html">Error Codes</a></li>
<li><a href="change-log.html">Change Log</a></li>
</ul>
<p>Subsystems</p>
<ul>
<li><a href="cache.html">Cache</a></li>
<li><a href="cli.html">CLI</a></li>
<li><a href="drizzle.html">Database</a></li>
<li><a href="email.html">Email</a></li>
<li><a href="ving-record.html">Ving Record</a></li>
<li><a href="ving-schema.html">Ving Schema</a></li>
<li><a href="rest.html">Rest</a></li>
<li><a href="ui.html">UI</a></li>
</ul>
<p>Rest APIs</p>
<ul>
<li><a href="apikey.html">API Key</a></li>
<li><a href="session.html">Session</a></li>
<li><a href="test.html">Test</a></li>
<li><a href="user.html">User</a></li>
</ul>

            </div>
        </div>
            <div class="col lg:col-3 p-3 surface-200"><div class="sticky top-0 right-0"> 
<nav class="table-of-contents"><ol><li><a href="#cache">Cache </a><ol><li><a href="#setting-up-redis">Setting Up Redis </a></li><li><a href="#using-the-cache">Using the Cache </a></li></ol></li></ol></nav></div></div><div class="col min-h-screen"> 
<h1 id="cache" tabindex="-1">Cache <a class="header-anchor" href="#cache">
          <span aria-hidden="true" class="hidden">#</span>
        </a></h1>
<p>By default ving uses an in-memory cache that goes away every time you restart your server. That’s fine for early development, but you get logged out everytime you restart your server, so you’re going to want to set up a Redis cache as soon as you can.</p>
<h2 id="setting-up-redis" tabindex="-1">Setting Up Redis <a class="header-anchor" href="#setting-up-redis">
          <span aria-hidden="true" class="hidden">#</span>
        </a></h2>
<p>To use a Redis cache, you must first have a Redis server. Then you simply need to add an entry in .env that points to your Redis server like so:</p>
<pre><code>KEYV_PROVIDER_URL=&quot;redis://@localhost:6379&quot;
</code></pre>
<p>You can include a username and password in the URL like so:</p>
<pre><code>KEYV_PROVIDER_URL=&quot;redis://user:pass@localhost:6379&quot;
</code></pre>
<h2 id="using-the-cache" tabindex="-1">Using the Cache <a class="header-anchor" href="#using-the-cache">
          <span aria-hidden="true" class="hidden">#</span>
        </a></h2>
<p>You can access the cache via to <a href="cli.html">CLI</a>, but for the most of your work you’ll want to programatically access the cache. Here’s a quick code example to show you how it works:</p>
<pre><code class="language-js">import {useCache} from 'server/cache.mjs';
const cache = useCache();
await cache.set('foo', 'bar', 60 * 60 * 1000); // set `foo` in key `foo` for 1 hour
const foo = await cache.get('foo'); // `bar` 
await cache.delete('foo'); // delete the value associated with `foo`
</code></pre>
</div>
    </div>
    
</body>

</html>